<!DOCTYPE html>
<html>
  <head>
    <title>Exemplo de página web com vídeo</title>
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      .div {
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        flex-direction: column;
      }
      .video-container {
        padding: 75% 0 0 0;
        position: relative;
      }
      #video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
      }
      #canvas {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="div">
      <div class="video-container">
        <video id="video" src="https://www.youtube.com/watch?v=6ISYNFHejPw&ab_channel=CESARMC"></video>
      </div>
      <canvas id="canvas"></canvas>
    </div>

    <script src="https://rawgit.com/sitepoint-editors/jsqrcode/master/src/qr_packed.js"></script>
    <script>
      function openFullscreen() {
        var elem = document.getElementById("video");
        if (elem.requestFullscreen) {
          elem.requestFullscreen();
        } else if (elem.mozRequestFullScreen) {
          /* Firefox */
          elem.mozRequestFullScreen();
        } else if (elem.webkitRequestFullscreen) {
          /* Chrome, Safari and Opera */
          elem.webkitRequestFullscreen();
        } else if (elem.msRequestFullscreen) {
          /* IE/Edge */
          elem.msRequestFullscreen();
        }
      }

      function playVideo() {
        var video = document.getElementById("video");
        video.play();
      }

      function pauseVideo() {
        var video = document.getElementById("video");
        video.pause();
      }

      var video = document.getElementById("video");
      var lastScannedCode = null;
      var isDetectingQRCode = false;

      function detectQRCode() {
        if (isDetectingQRCode) {
          return;
        }
        isDetectingQRCode = true;
        var canvas = document.getElementById("canvas");
        var context = canvas.getContext("2d");
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        context.drawImage(video, 0, 0, canvas.width, canvas.height);
        try {
          qrcode.decode();
        } catch (e) {
          setTimeout(detectQRCode, 500);
          isDetectingQRCode = false;
          return;
        }

        qrcode.callback = function (data) {
          if (data !== lastScannedCode) {
            lastScannedCode = data;
            if (data) {
              console.log("QR Code detected: " + data);
              playVideo();
            } else {
              console.log("QR Code removed from camera view");
              pauseVideo();
            }
          }
          isDetectingQRCode = false;
        };
     
